# DFD –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ PlantUML - "–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–µ"

**–£—Ä–æ–≤–µ–Ω—å DFD:** Level 1-2 (–¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–µ–∑ —É–≥–ª—É–±–ª–µ–Ω–∏—è –≤ –ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å—ã)  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ PlantUML –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ SVG.

## 1. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –Ω–∞ –ø—Ä–∏—ë–º

```plantuml
@startuml patient_registration_dfd
!theme plain

rectangle "–ü–ê–¶–ò–ï–ù–¢\n(–í–Ω–µ—à–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å)" as patient
circle "–ó–ê–ü–ò–°–¨\n–ü–ê–¶–ò–ï–ù–¢–ê\n(–ü—Ä–æ—Ü–µ—Å—Å 1.1)" as process1
circle "–°–û–ó–î–ê–ù–ò–ï\n–ú–ï–î–ö–ê–†–¢–´\n(–ü—Ä–æ—Ü–µ—Å—Å 1.3)" as process3

database "–ñ–£–†–ù–ê–õ –ó–ê–ü–ò–°–ï–ô\n(Excel)\nüî¥ –†–ò–°–ö" as store1
database "–ê–ù–ö–ï–¢–´ –ü–ê–¶–ò–ï–ù–¢–û–í\n(–§–∞–π–ª—ã)\nüî¥ –†–ò–°–ö" as store2  
database "–ú–ï–î–ò–¶–ò–ù–°–ö–ò–ï –ö–ê–†–¢–´\n(PDF/JPG)\nüî¥ –ö–†–ò–¢–ò–ß–ù–û" as store3

rectangle "–ú–ï–î–ò–¶–ò–ù–°–ö–ò–ô\n–°–ü–ï–¶–ò–ê–õ–ò–°–¢\n(–ü—Ä–æ—Ü–µ—Å—Å 1.2)" as doctor

patient --> process1 : "–î–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞\n(–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, –∂–∞–ª–æ–±—ã)"
process1 --> store1 : "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
process1 --> store2 : "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
process1 --> doctor : "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

store1 --> doctor
store2 --> doctor

doctor --> process3 : "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ"
process3 --> store3 : "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∫–∞—Ä—Ç–∞"

note top of store1 : D1
note top of store2 : D2
note top of store3 : D3

@enduml
```

## 2. –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤

```plantuml
@startuml lab_results_dfd
!theme plain

rectangle "–í–ù–ï–®–ù–Ø–Ø\n–õ–ê–ë–û–†–ê–¢–û–†–ò–Ø\n(–í–Ω–µ—à–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å)" as lab
circle "–ü–û–õ–£–ß–ï–ù–ò–ï\n–ê–ù–ê–õ–ò–ó–û–í\n(–ü—Ä–æ—Ü–µ—Å—Å 2.1)\nüî¥ Email/–§–∞–∫—Å" as process1
circle "–û–ë–†–ê–ë–û–¢–ö–ê\n–§–ê–ô–õ–û–í\n(–ü—Ä–æ—Ü–µ—Å—Å 2.2)" as process2
circle "–ê–ù–ê–õ–ò–ó\n–†–ï–ó–£–õ–¨–¢–ê–¢–û–í\n(–ü—Ä–æ—Ü–µ—Å—Å 2.3)" as process3
circle "–í–ù–ï–°–ï–ù–ò–ï\n–í –ö–ê–†–¢–£\n(–ü—Ä–æ—Ü–µ—Å—Å 2.4)" as process4

database "–ê–ù–ê–õ–ò–ó–´\n(–§–∞–π–ª—ã)\nüî¥ –†–ò–°–ö" as store4
database "–ú–ï–î–ò–¶–ò–ù–°–ö–ò–ï –ö–ê–†–¢–´\n(–û–±–Ω–æ–≤–ª–µ–Ω–æ)\nüî¥ –ö–†–ò–¢–ò–ß–ù–û" as store3

rectangle "–ú–ï–î–ò–¶–ò–ù–°–ö–ò–ô\n–°–ü–ï–¶–ò–ê–õ–ò–°–¢" as doctor

lab --> process1 : "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤\n(PDF, –¥–∞–Ω–Ω—ã–µ)"
process1 --> process2 : "–§–∞–π–ª—ã –∞–Ω–∞–ª–∏–∑–æ–≤"
process2 --> store4 : "–¶–∏—Ñ—Ä–æ–≤—ã–µ –∫–æ–ø–∏–∏"
store4 --> process3 : "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ"
process3 --> process4 : "–ó–∞–∫–ª—é—á–µ–Ω–∏–µ –≤—Ä–∞—á–∞"
process4 --> store3 : "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–µ–¥–∫–∞—Ä—Ç–∞"

note top of store4 : D4
note top of store3 : D3

@enduml
```

## 3. –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã —É—Å–ª—É–≥

```plantuml
@startuml payment_process_dfd
!theme plain

rectangle "–ü–ê–¶–ò–ï–ù–¢\n(–ü–ª–∞—Ç–µ–ª—å—â–∏–∫)" as patient
circle "–ü–†–ò–ï–ú\n–ü–õ–ê–¢–ï–ñ–ê\n(–ü—Ä–æ—Ü–µ—Å—Å 3.1)" as process1
circle "–ë–£–•–ì–ê–õ–¢–ï–†–°–ö–ò–ô\n–£–ß–ï–¢\n(–ü—Ä–æ—Ü–µ—Å—Å 3.3)" as process3

rectangle "–ö–ö–ú\n(–ö–∞—Å—Å–∞)\n‚úÖ –û–ö" as kkm
rectangle "1–°: –ë–£–•–ì–ê–õ–¢–ï–†–ò–Ø\n‚úÖ –û–ö" as one—Å
rectangle "–ù–ê–õ–û–ì–û–í–ê–Ø\n–û–¢–ß–ï–¢–ù–û–°–¢–¨\n(–í–Ω–µ—à–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å)" as tax

database "–£–ß–ï–¢ –ü–õ–ê–¢–ï–ñ–ï–ô\n(Excel)\nüî¥ –†–ò–°–ö" as store_excel
database "–û–ë–©–ò–ô –î–ò–°–ö\nüî¥ –†–ò–°–ö" as store_disk

rectangle "–§–ò–°–ö–ê–õ–¨–ù–´–ï\n–î–û–ö–£–ú–ï–ù–¢–´\n‚úÖ –û–ö" as fiscal

patient --> process1 : "–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø–ª–∞—Ç—É\n(—É—Å–ª—É–≥–∏, —Å—É–º–º–∞)"
process1 --> kkm : "–î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞"
process1 --> store_excel : "–î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞"  
process1 --> one—Å : "–î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞"

kkm --> fiscal
store_excel --> store_disk
one—Å --> process3
process3 --> tax

@enduml
```

## 4. –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞ (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

```plantuml
@startuml secure_patient_registration
!theme plain

rectangle "–ü–ê–¶–ò–ï–ù–¢\n+ –°–æ–≥–ª–∞—Å–∏–µ –ü–î\n‚úÖ –ó–ê–©–ò–©–ï–ù–û" as patient
circle "–†–ï–°–ï–ü–®–ï–ù\n+ MFA\n‚úÖ –û–ö" as reception
circle "–°–û–ó–î–ê–ù–ò–ï\n–ú–ï–î–ö–ê–†–¢–´\n‚úÖ –û–ö" as create_record

database "–ó–ê–©–ò–©–Å–ù–ù–ê–Ø –ë–î\nAES-256\n‚úÖ –ó–ê–©–ò–©–ï–ù–û" as secure_db
database "–°–ò–°–¢–ï–ú–ê –¢–ï–ì–ò–†–û–í–ê–ù–ò–Ø\nPII_BASIC\n‚úÖ –ó–ê–©–ò–©–ï–ù–û" as tagging
database "–ó–ê–©–ò–©–Å–ù–ù–û–ï –•–†–ê–ù–ò–õ–ò–©–ï\n+ –ê—É–¥–∏—Ç + –í–µ—Ä—Å–∏–∏\n‚úÖ –ó–ê–©–ò–©–ï–ù–û" as secure_storage

rectangle "–í–†–ê–ß + MFA\n‚úÖ –û–ö" as doctor
rectangle "DLP –°–ò–°–¢–ï–ú–ê\n‚úÖ –ó–ê–©–ò–¢–ê" as dlp
rectangle "SIEM –ú–û–ù–ò–¢–û–†–ò–ù–ì\n‚úÖ –ö–û–ù–¢–†–û–õ–¨" as siem

patient --> reception : "–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î"
dlp --> reception : "–ö–æ–Ω—Ç—Ä–æ–ª—å —É—Ç–µ—á–µ–∫"
dlp --> doctor : "–ö–æ–Ω—Ç—Ä–æ–ª—å —É—Ç–µ—á–µ–∫"

reception --> secure_db : "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ AES-256"
reception --> tagging : "–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: PII_BASIC"

secure_db --> doctor : "RBAC: Doctor_Only"
doctor --> create_record : "–¶–∏—Ñ—Ä–æ–≤–∞—è –ø–æ–¥–ø–∏—Å—å"
create_record --> secure_storage : "–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è –º–µ–¥–∫–∞—Ä—Ç–∞"

siem --> secure_db : "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ"
siem --> secure_storage : "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ"

@enduml
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ SVG

–î–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PlantUML –¥–∏–∞–≥—Ä–∞–º–º –≤ SVG –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

### –û–Ω–ª–∞–π–Ω:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://www.plantuml.com/plantuml/uml/
2. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –¥–∏–∞–≥—Ä–∞–º–º—ã
3. –ü–æ–ª—É—á–∏—Ç–µ SVG-—Ñ–∞–π–ª

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlantUML
brew install plantuml  # macOS
sudo apt install plantuml  # Ubuntu

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ SVG
plantuml -tsvg dfd_plantuml.md
```

### VS Code:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "PlantUML"
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+Shift+P ‚Üí "PlantUML: Preview Current Diagram"

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PlantUML –¥–∏–∞–≥—Ä–∞–º–º:
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ (SVG)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Git

